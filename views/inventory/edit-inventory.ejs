<h1 id="edit-inventory-title"><%= title %> </h1>
<h2 class="title-flavor">Eenter the new information of the vehicle.</h2>

<div class="flash-messages">
    <%- messages() %>
    <% if (errors) { %>
        <ul class="error">
        <% errors.array().forEach(error => { %>
        <li><%= error.msg %></li>
        <%  }) %>
        </ul>
    <% } %>
</div>

<form id="edit-inventory-form" class="submission-form" action="/inv/update" method="post">
    <input type="hidden" name="inv_id" id="inv_id"
        <% if(locals.inv_id) { %> 
            value="<%= locals.inv_id %>"
        <% } %>>
    <label>
        <span class="label-field-name">Vehicle Maker:</span>
        <input 
            type="text" 
            name="inv_make" 
            id="inv_make"
            required
            value="<%= locals.inv_make %>"
            placeholder="e.g. Ford">
    </label>
    <label>
        <span class="label-field-name">Vehicle Model:</span>
        <input 
            type="text" 
            name="inv_model" 
            id="inv_model"
            required
            value="<%= locals.inv_model %>"
            placeholder="e.g. Mustang">
    </label>
    <label>
        <span class="label-field-name">Model Year:</span>
        <input 
            type="text" 
            name="inv_year"
            id="inv_year"
            pattern="\d{4}"
            required
            value="<%= locals.inv_year %>"
            placeholder="e.g. 2005 (Must be a four digits number)">
    </label>
    <label class="selection">
        <span class="label-field-name">Vehicle Classification:</span>
        <%- classList %>
    </label>
    <label>
        <span class="label-field-name">Selling Price:</span>
        <input 
            type="number" 
            name="inv_price"
            id="inv_price"
            min="0"
            required
            value="<%= locals.inv_price %>"
            placeholder="e.g. 70000 (Only numbers)">
    </label>
    <label>
        <span class="label-field-name">Mileage:</span>
        <input 
            type="number" 
            name="inv_miles"
            id="inv_miles"
            min="0"
            required
            value="<%= locals.inv_miles %>"
            placeholder="e.g. 70000 (Only numbers)">
    </label>
    <label>
        <span class="label-field-name">Vehicle Color:</span>
        <input 
            type="text" 
            name="inv_color"
            id="inv_color"
            pattern="[a-zA-Z\- ]+"
            required
            value="<%= locals.inv_color %>"
            placeholder="e.g. Bone White (Only letters, spaces and hyphens)">
    </label>
    <label>
        <span class="label-field-name">Vehicle Image:</span>
        <input 
            type="text" 
            name="inv_image"
            id="inv_image"
            pattern="\/[a-z0-9\/._\-]+\.[a-z]+"
            value = "<%= locals.inv_image %>"
            placeholder="e.g. /vehicles/coolcar.img">
    </label>
    <label>
        <span class="label-field-name">Vehicle Thumbnail:</span>
        <input 
            type="text" 
            name="inv_thumbnail"
            id="inv_thumbnail"
            pattern="\/[a-z0-9\/._\-]+\.[a-z]+"
            value = "<%= locals.inv_thumbnail %>"
            placeholder="e.g. /vehicles/cool-car-tn.img">
    </label>
    <label>
        <span class="label-field-name">Vehicle Description:</span>
        <textarea
            name="inv_description"
            id="inv_description"
            rows="3"
            required
            placeholder="e.g. A very cool car!"><%- locals.inv_description %></textarea>
    </label>
    <ul class="form-indications">
        <li>All fields are required, except for Vehicle Image and Vehicle Thumbnail.</li>
        <li>The Model Year must be lower than 9999.</li>
        <li>The Selling Price must only be positive numbers.</li>
        <li>The Mileage must only be positive numbers.</li>
        <li>The Color must be letters, spaces and hyphens.</li>
        <li>For vehicles of a new classification, add the classification in the classification management tab first.</li>
        <li>Image path files must contain at least a file name along with its extension.</li>
        <li>Paths exclude: any special character other than "<span class="bold">-_./</span>", capital letters, and whitespaces.</li>
        <li>The given directory will be searched inside the images directory.</li>
        <li>Start the path with the opening "/" of the path.</li>
    </ul>
    <button type="submit" class="button" disabled id="submit-button">UPDATE</button>
</form>

<script src="../../js/inv-update.js"></script>